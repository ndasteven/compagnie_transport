
    <!--information home-->

    <div class="info-user">
       <!--tableau info GARE-->
        <div class="col-12 col-lg-4 d-flex">
                <div class="card radius-10 w-100">
                <div class="card-header">
                <div class="d-flex align-items-center">
                <div>
                  <h6 class="mb-0">GARES</h6>
                </div>
                <div class="dropdown ms-auto">
                  <a class="dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown"><i class='bx bx-dots-horizontal-rounded font-22 text-option'></i>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item addGare" href="javascript:;">Créer une Gare</a>
                    </li>
                    <li><a class="dropdown-item" href="javascript:;">Modifier une gare</a>
                    </li>
                    <li>
                      <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" href="javascript:;">Supprimer une gare</a>
                    </li>
                  </ul>
                </div>
                </div>
                </div>
                <div class="card-body border-bottom">
                <div class="chart-container-2 row">
                  <div class="col-md-12 ">
                     <img src="assets/images/gare.avif" style="max-width: 100%;" alt="">
                  </div>
                </div>
                </div>
                <ul class="list-group list-group-flush" id="list_gare">
                </ul>
                </div>
          </div>
      <!--fin tableau info GARE-->

     <!--tableau info utilisateurs-->
    <div class="card radius-10 ">
        <div class="card-header">
            <div class="d-flex align-items-center">
                <div>
                    <h6 class="mb-0">Les utilisateurs de la gare de </h6>
                </div>
                <div class="dropdown ms-auto">
                    <a class="dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown"><i class='bx bx-dots-horizontal-rounded font-22 text-option'></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item addUser" href="javascript:;">Ajouter un utilisateur</a>
                        </li>
                        <li><a class="dropdown-item" href="javascript:;">Modifier un utilisateur</a>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="javascript:;">Supprimer un utilisateur</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
             <div class="card-body">
             <div class="table-responsive">
               <table class="table align-middle mb-0">
                <thead class="table-light">
                 <tr>
                   <th>Nom</th>
                   <th>Prenom</th>
                   <th>Date de naissance</th>
                   <th>Status</th>
                   <th>Total vente</th>
                   <th>nombre de ticket vendu</th>
                   <th>Shipping</th>
                 </tr>
                 </thead>
                 <tbody><tr>
                  <td>Iphone 5</td>
                  <td><img src="assets/images/products/01.png" class="product-img-2" alt="product img"></td>
                  <td>#9405822</td>
                  <td><span class="badge bg-gradient-quepal text-white shadow-sm w-100">Paid</span></td>
                  <td>$1250.00</td>
                  <td>03 Feb 2020</td>
                  <td><div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-gradient-quepal" role="progressbar" style="width: 100%"></div>
                      </div></td>
                 </tr>

                 <tr>
                  <td>Earphone GL</td>
                  <td><img src="assets/images/products/02.png" class="product-img-2" alt="product img"></td>
                  <td>#8304620</td>
                  <td><span class="badge bg-gradient-blooker text-white shadow-sm w-100">Pending</span></td>
                  <td>$1500.00</td>
                  <td>05 Feb 2020</td>
                  <td><div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-gradient-blooker" role="progressbar" style="width: 60%"></div>
                      </div></td>
                 </tr>

                 <tr>
                  <td>HD Hand Camera</td>
                  <td><img src="assets/images/products/03.png" class="product-img-2" alt="product img"></td>
                  <td>#4736890</td>
                  <td><span class="badge bg-gradient-bloody text-white shadow-sm w-100">Failed</span></td>
                  <td>$1400.00</td>
                  <td>06 Feb 2020</td>
                  <td><div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-gradient-bloody" role="progressbar" style="width: 70%"></div>
                      </div></td>
                 </tr>

                 <tr>
                  <td>Clasic Shoes</td>
                  <td><img src="assets/images/products/04.png" class="product-img-2" alt="product img"></td>
                  <td>#8543765</td>
                  <td><span class="badge bg-gradient-quepal text-white shadow-sm w-100">Paid</span></td>
                  <td>$1200.00</td>
                  <td>14 Feb 2020</td>
                  <td><div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-gradient-quepal" role="progressbar" style="width: 100%"></div>
                      </div></td>
                 </tr>
                 <tr>
                  <td>Sitting Chair</td>
                  <td><img src="assets/images/products/06.png" class="product-img-2" alt="product img"></td>
                  <td>#9629240</td>
                  <td><span class="badge bg-gradient-blooker text-white shadow-sm w-100">Pending</span></td>
                  <td>$1500.00</td>
                  <td>18 Feb 2020</td>
                  <td><div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-gradient-blooker" role="progressbar" style="width: 60%"></div>
                      </div></td>
                 </tr>
                 <tr>
                  <td>Hand Watch</td>
                  <td><img src="assets/images/products/05.png" class="product-img-2" alt="product img"></td>
                  <td>#8506790</td>
                  <td><span class="badge bg-gradient-bloody text-white shadow-sm w-100">Failed</span></td>
                  <td>$1800.00</td>
                  <td>21 Feb 2020</td>
                  <td><div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-gradient-bloody" role="progressbar" style="width: 40%"></div>
                      </div></td>
                 </tr>
                </tbody>
              </table>
              </div>
             </div>
             
      </div>
<!--fin tableau info utilisateur-->
  </div>
    <!--fin information home-->

    <!--formulaire pour creer Gare-->
    <div class="row formGare" style="display: none;">
      <div class="col-lg-8 mx-auto">
        <div class="card">
        <div class="card-body p-4">
          <h5 class="mb-4">Renseignez les informations de la GARE </h5>
          <div>
            <p class="error_gare" style="color: red;"></p>
          </div>
            <div class="form_gare">
            <div class="row mb-3">
              <label for="input35" class="col-sm-3 col-form-label">Nom de la GARE</label>
              <div class="col-sm-9">
                <input type="text" class="form-control gare_name" id="input35" placeholder="Entrer nom utilisateur">
              </div>
            </div>
            <div class="row mb-3">
              <label for="input35" class="col-sm-3 col-form-label">Situation Géographique</label>
              <div class="col-sm-9">
                <input type="text" class="form-control gare_position" id="input35" placeholder="Entrer la situation géographique de la GARE">
              </div>
            </div>

            <div class="row">
              <label class="col-sm-3 col-form-label"></label>
              <div class="col-sm-9">
                <div class="d-md-flex d-grid align-items-center gap-3">
                  <button type="button" class="btn btn-primary px-4 valide_gare">Enregistrer la Gare</button>
                  <button type="button" class="btn btn-light annuler px-4">Annuler</button>
                </div>
              </div>
            </div>
          </div>

          <div class="row retour" style="display: none;">
            <label class="col-sm-3 col-form-label"></label>
            <div class="col-sm-9">
              <div class="d-md-flex d-grid align-items-center gap-3">
                <button type="button" class="btn btn-light annuler px-4">Retour</button>
              </div>
            </div>
          </div>

        </div>
        </div>
      </div>
    </div>
    <!--fin formulaire pour creer Gare-->
    <!--formulaire pour creer utilisateur-->
    <div class="row formUser" style="display: none;">
          <div class="col-lg-8 mx-auto">
            <div class="card">
            <div class="card-body p-4">
              <h5 class="mb-4">Renseignez les information du nouveau utilisateurs</h5>
                <div class="row mb-3">
                  <label for="input35" class="col-sm-3 col-form-label">Nom utilisateur</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control nom" id="input35" placeholder="Entrer nom utilisateur">
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="input36" class="col-sm-3 col-form-label">Prenom utilisateur</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control prenom" id="input36" placeholder="Entrer prenom utilisateur">
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="input37" class="col-sm-3 col-form-label">Date de naissance</label>
                  <div class="col-sm-9">
                    <input type="date" class="form-control date_naissance" id="input37" placeholder="selectionner la date de naissance utilisateur">
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="input38" class="col-sm-3 col-form-label">Pseudo utilisateur</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control pseudo" id="input38" placeholder="choisir Pseudo utilisateur">
                  </div>
                </div>
                
                <div class="row mb-3">
                  <label for="input38" class="col-sm-3 col-form-label password">Mot de passe utilisateur</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control" id="input38" placeholder="Mot de passe de l'utilisateur">
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="input39" class="col-sm-3 col-form-label">GARE de l'utilisateur</label>
                  <div class="col-sm-9">
                    <select class="form-select gare_user" id="option_gare">
                    </select>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="input40" class="col-sm-3 col-form-label">Numéro de Tel</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control tel" id="input38" placeholder="Numéro de Téléphone de l'utilisateur">
                  </div>
                </div>
                <div class="row">
                  <label class="col-sm-3 col-form-label"></label>
                  <div class="col-sm-9">
                    <div class="d-md-flex d-grid align-items-center gap-3">
                      <button type="button" class="btn btn-primary px-4">Enregistrer l'utilisateur</button>
                      <button type="button" class="btn btn-light annuler px-4">Annuler</button>
                    </div>
                  </div>
                </div>
            </div>
            </div>
          </div>
    </div>
    <!--fin formulaire pour creer utilisateur-->

            <script>
            $(document).ready(function() {
              //script pour creer utilisateurs
              $('.addUser').on('click',()=>{
                if ($('.nom').val().length >= 2 && $('.prenom').val().length >= 2 && $('.date_naissance').val().length >= 2 && $('.pseudo').val().length >= 2 && $('.password').val().length >= 5 && $('.gare_user').val().length >= 2 && $('.tel').val().length >= 10  ) {
                  
                }else{
                  $('error_user').text('entrer les informations utilisateur valide')
                }
                $('.info-user').css({'display':'none'})
                $('.formUser').css({'display':'block'})
              })
              $('.annuler').on('click',()=>{
                $('.info-user').css({'display':'block'})
                $('.formUser').css({'display':'none'})
                $('.formGare').css({'display':'none'})
              })
              //fin script pour creer utilisateurs

              //script pour creer Gare
              $('.addGare').on('click',()=>{
                $('.info-user').css({'display':'none'})
                $('.formGare').css({'display':'block'})
              })
              $('.annuler').on('click',()=>{
                $('.info-user').css({'display':'block'})
                $('.formGare').css({'display':'none'})
                $('.formUser').css({'display':'none'})
              })
              //fin script pour creer Gare

              //enregistrement d'une gare
              $('.valide_gare').on('click', function(){
                if ($('.gare_name').val().length > 5 && $('.gare_position').val().length > 5) {
                  var myData = {
                    gare_name: $('.gare_name').val(),
                    gare_position: $('.gare_position').val()
                  }
                  $('.error_gare').text('')
                  $.ajax({
                    type: "POST",
                    url: "controlleur.php",
                    data: myData,
                    success: function(response) {
                      var message = JSON.parse(response)
                      $('.error_gare').text(message).css({'color':'green'})
                      $('.retour').css({
                        'display':'block'
                      })
                      $('.form_gare').css({
                        'display':'none'
                      })
                    },
                    error: function(xhr, status, error) {
                      console.error("AJAX error:", status, error);
                      
                    }
                  })
                }else{
                  $('.error_gare').text('Entrer des informations valide')
                }
              })
              //fin enregistrement d'une gare
              //script pour lister les gare
              setInterval(() => {
             $.ajax({
              url: "vue.php",
              success: function(data) {
                var response = JSON.parse(data)
                
                var option_gare = response.map(item =>'<option value="'+item.id_Gare+' ">'+item.nom_Gare+'</option>'  ).join(' ')
                var liste_gare =response.map(item=> '<li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">'+item.nom_Gare+'<span class="badge bg-danger rounded-pill">10</span></li>').join(' ')
                $('#option_gare').html(option_gare)
                $('#list_gare').html(liste_gare)
                var nombre_gare=Object.keys(response).length
                $('#nombre_gare').html(nombre_gare)
              }
              });
              }, 6000);// à chaque 1min il cheque la base pour voir si il n'y a pas de nouvelle mise à jour
             
              //fin script pour lister les gare

            });
            </script>
